"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[777],{9021:function(e,t,s){s.d(t,{A:function(){return p}});var a=s(6768),o=s(4232),r=s.p+"img/logo.2dc139a5.jpeg";const l={class:"navbar navbar-expand-lg navbar-light bg-light"},n={class:"container-fluid"},i={class:"navbar-brand d-flex align-items-center",href:"/"},c=(0,a.Lk)("img",{src:r,alt:"",width:"35",height:"35",class:"d-inline-block align-text-top mx-4"},null,-1),d={class:"mx-2 ps-md-2 border-start border-md border-gray text-danger"},u=(0,a.Fv)('<div class="d-flex"><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav me-auto px-8 mb-2 mb-lg-0"><li class="nav-item mx-2"><a class="nav-link active" aria-current="page" href="/">Home</a></li><li class="nav-item mx-2 ps-md-4 border-start border-md border-gray"><a class="nav-link" href="/requested_books/Requested">Requested Books</a></li><li class="nav-item mx-2 ps-md-4 border-start border-md border-gray"><a class="nav-link" href="/requested_books/Issued">My Books</a></li><li class="nav-item mx-2 ps-md-4 border-start border-md border-gray"><a class="nav-link" href="/history">History</a></li><li class="nav-item mx-2 ps-md-4 border-start border-md border-gray"><a class="nav-link" href="/logout">Logout</a></li></ul></div></div>',1);function m(e,t,s,r,m,h){return(0,a.uX)(),(0,a.CE)("nav",l,[(0,a.Lk)("div",n,[(0,a.Lk)("a",i,[c,(0,a.eW)(" Library Management System "),(0,a.Lk)("code",d,(0,o.v_)(m.username)+"'s "+(0,o.v_)(e.nav),1)]),u])])}s(5216);var h=s(782),k={name:"NavBar",data(){return{username:"default",navid:"1"}},methods:{},computed:{...(0,h.aH)(["userData","navData"])},created(){this.username=this.userData,this.nav=this.navData}},g=s(1241);const b=(0,g.A)(k,[["render",m]]);var p=b},2880:function(e,t,s){s.r(t),s.d(t,{default:function(){return ve}});var a=s(6768),o=s(4232);const r={class:"book"},l={class:"container-fluid text-center",style:{"margin-top":"2%"}},n={class:"row"},i={class:"col-md-3 order-md-first",style:{"margin-bottom":"10px"}},c={class:"mx-2"},d=["src"],u={class:"col-md-6"},m={class:"card mx-2",style:{width:"100%"}},h={class:"card-body"},k={class:"fs-3 fw-semibold text-justify-center my-0",style:{"text-align":"left"}},g={class:"text-justify-center",style:{"text-align":"left",color:"gray"}},b=(0,a.Lk)("hr",null,null,-1),p={class:"fw-medium text-justify-center my-0",style:{"text-align":"left",color:"black","font-size":"15px","white-space":"pre-line"}},v=(0,a.Lk)("a",{href:"#",class:"btn fw-medium d align-items-center justify-content-center",style:{"background-color":"rgb(254, 210, 19)","border-radius":"20px","margin-top":"20px"}},"Add To Wishlist",-1),f={class:"col-md-3 order-md-last"},y={class:"card mx-2",style:{width:"100%"}},x={class:"card-body"},L=(0,a.Lk)("h5",{class:"card-title"},"Card title",-1),_=(0,a.Lk)("p",{class:"card-text"}," 3 Some quick example text to build on the card title and make up the bulk of the card's content. ",-1),w=["hidden"],D=["hidden"],I={class:"modal",id:"myModal"},q={class:"modal-dialog"},C={class:"modal-content"},E=(0,a.Lk)("div",{class:"modal-header"},[(0,a.Lk)("h4",{class:"modal-title"},"Request for Book"),(0,a.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),j={class:"modal-body"},$={class:"list-group list-group-lg list-group-flush-y list-group-flush-x mb-7"},B={class:"list-group-item"},S={class:"row align-items-center"},T={class:"col-4"},R={href:""},N=["src"],A={class:"col"},H={class:"fs-sm fw-bold"},z={class:"text-body",href:"product.html"},F={class:"fs-sm text-muted"},P=(0,a.Lk)("br",null,null,-1),W=(0,a.Lk)("hr",null,null,-1),M={class:"card mb-9 bg-light"},O={class:"card-body"},V={class:"list-group list-group-sm list-group-flush-y list-group-flush-x"},X={class:"list-group-item d-flex"},K=(0,a.Lk)("span",null,"Current Date/Time",-1),U={class:"ms-auto fs-sm",id:"date"},J=(0,a.Fv)('<li class="list-group-item d-flex"><div class="d-flex justify-content-center align-items-center"><span>Period of Time</span></div><input type="number" class="ms-auto fs-sm mx-2 form-control form-control-sm" style="width:60px;" id="timeperiod" required><select class="form-control form-control-sm" id="unitselection" style="width:60px;" required><option selected value="hrs">hrs</option><option value="days">days</option><option value="weeks">weeks</option></select></li>',1),G={class:"list-group-item d-flex"},Y=(0,a.Lk)("span",null,"Return Date/Time",-1),Q={class:"ms-auto fs-sm",id:"datereturn"},Z=(0,a.Lk)("p",{class:"mb-7 fs-xs text-gray-500 mt-2"}," After the Return of Date/Time, the book will be automatically returned or the access to user will be revoked. ",-1),ee=["disabled"],te=(0,a.Lk)("div",{class:"container mx-4"},[(0,a.Lk)("hr",{style:{width:"93%"}}),(0,a.Lk)("p",{class:"fw-semibold text-justify-center my-0",style:{"text-align":"left",color:"black","font-size":"20px"}}," Recommandation ")],-1),se={class:"row"},ae={class:"col-12",style:{"margin-top":"20px"}},oe={class:"mx-2",style:{height:"384px","overflow-x":"auto","margin-right":"200px"}},re={class:"list-unstyled d-flex"},le=["href"],ne=["src"],ie=(0,a.Lk)("br",null,null,-1),ce={style:{"font-size":"small","font-weight":"bold",color:"darkblue",width:"200px"},class:"hover-red"},de=(0,a.Lk)("span",{style:{"font-size":"small","font-weight":"bold",color:"grey","text-decoration":"none"}},"Kindle Price:",-1),ue=(0,a.Lk)("span",{style:{"font-size":"medium","font-weight":"lighter",color:"red","text-decoration":"none"}},"$3.99",-1);function me(e,t,s,me,he,ke){const ge=(0,a.g2)("NavBar");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",r,[(0,a.bF)(ge,{msg:"Welcome to Your Vue.js App"})]),(0,a.Lk)("div",l,[(0,a.Lk)("div",n,[(0,a.Lk)("div",i,[(0,a.Lk)("div",c,[(0,a.Lk)("img",{src:ke.fetchbookimg(this.$route.params.id),class:"card-img-top mx-2",style:{width:"100%",height:"500px"},alt:"..."},null,8,d)])]),(0,a.Lk)("div",u,[(0,a.Lk)("div",m,[(0,a.Lk)("div",h,[(0,a.Lk)("p",k,(0,o.v_)(he.current_book.book_name)+": "+(0,o.v_)(he.current_book.title)+" ("+(0,o.v_)(he.current_book.status)+") ",1),(0,a.Lk)("p",g," By: "+(0,o.v_)(he.current_book.author),1),b,(0,a.Lk)("p",p,(0,o.v_)(he.current_book.description),1),v])])]),(0,a.Lk)("div",f,[(0,a.Lk)("div",y,[(0,a.Lk)("div",x,[L,_,(0,a.Lk)("button",{type:"button",hidden:"Request for Book"!==he.status,class:"btn fw-medium d align-items-center justify-content-center",style:{"background-color":"rgb(253, 147, 24)","border-radius":"20px"},"data-bs-toggle":"modal","data-bs-target":"#myModal"},(0,o.v_)(he.status),9,w),(0,a.Lk)("button",{type:"button",hidden:"Cancel Request"!==he.status,class:"btn fw-medium d align-items-center justify-content-center",style:{"background-color":"gray","border-radius":"20px",color:"white"},onClick:t[0]||(t[0]=e=>ke.cancel_request())},(0,o.v_)(he.status),9,D),(0,a.Lk)("div",I,[(0,a.Lk)("div",q,[(0,a.Lk)("div",C,[E,(0,a.Lk)("div",j,[(0,a.Lk)("div",null,[(0,a.Lk)("ul",$,[(0,a.Lk)("li",B,[(0,a.Lk)("div",S,[(0,a.Lk)("div",T,[(0,a.Lk)("a",R,[(0,a.Lk)("img",{src:ke.fetchbookimg(this.$route.params.id),class:"mx-2",style:{width:"90px",height:"110px"},alt:"..."},null,8,N)])]),(0,a.Lk)("div",A,[(0,a.Lk)("p",H,[(0,a.Lk)("a",z,(0,o.v_)(he.current_book.book_name)+": "+(0,o.v_)(he.current_book.title)+" ("+(0,o.v_)(he.current_book.status)+")",1)]),(0,a.Lk)("div",F,[(0,a.eW)(" Author: "+(0,o.v_)(he.current_book.author),1),P,(0,a.eW)(" Pages: 1000 ")])])])]),W]),(0,a.Lk)("div",M,[(0,a.Lk)("div",O,[(0,a.Lk)("ul",V,[(0,a.Lk)("li",X,[K,(0,a.Lk)("span",U,(0,o.v_)(he.currentDate),1)]),J,(0,a.Lk)("li",G,[Y,(0,a.Lk)("span",Q,(0,o.v_)(he.returnDate),1)])])])]),Z,(0,a.Lk)("button",{disabled:!ke.isDateValid,class:"btn w-100 btn-dark",onClick:t[1]||(t[1]=e=>ke.request())}," Request for Book ",8,ee)])])])])])])])])]),te,(0,a.Lk)("div",se,[(0,a.Lk)("div",ae,[(0,a.Lk)("div",oe,[(0,a.Lk)("ol",re,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(he.data.books,(e=>((0,a.uX)(),(0,a.CE)("li",{class:"mx-4",key:e.book_id,style:{width:"202px"}},[(0,a.Lk)("a",{class:"",href:"/book/"+e.book_id,style:{"text-decoration":"none"}},[(0,a.Lk)("img",{alt:"{{ books.book_name }}: {{ books.title }}",src:ke.fetchbookimg(e.book_id),style:{"max-width":"177px","max-height":"266px","min-height":"266px"}},null,8,ne),ie,(0,a.Lk)("div",ce,(0,o.v_)(e.book_name)+": "+(0,o.v_)(e.title),1)],8,le),de,ue])))),128))])])])])])],64)}s(4114);var he=s(9021),ke=s(4123),ge={name:"BookView",data(){return{data:[],current_book:[],currentDate:"",returnDate:"-----",refreshIntervalId:"",status:"Request for Book"}},beforeCreate(){const e=localStorage.getItem("library_management_system_token");this.$store.commit("setNav","books"),fetch(ke.H$+"/book/"+this.$route.params.id,{method:"GET",headers:{"Content-Type":"application/json","x-access-token":e}}).then((e=>e.json())).then((e=>{this.$store.commit("setUser",e.user_data.username),"success"!==e.status?(localStorage.removeItem("library_management_system_token"),this.$router.push("/signin")):(this.$store.commit("setUser",e.user_data.username),this.$store.commit("setNav","books"),this.data=e,this.current_book=e.current_book,"Requested"==e.issue&&(this.status="Cancel Request")),console.log(e),console.log(this.current_book)})).catch((e=>{console.error("Error fetching data:",e),this.$router.push("/signin")}))},components:{NavBar:he.A},methods:{fetchbookimg(e){return ke.H$+"/fetchbookimg/"+e},date(){return(new Date).toLocaleString()},updateDate(){let e=(new Date).getTime();this.currentDate=new Date(e).toLocaleString()},updatereturnDate(){try{let e=(new Date).getTime(),t=document.getElementById("timeperiod").value,s=document.getElementById("unitselection").value;if(""===t||""===s)return void(this.returnDate="-----");let a=parseInt(t);if(isNaN(a))return void(this.returnDate="-----");a="hrs"===s?60*a*60*1e3:"days"===s?24*a*60*60*1e3:"weeks"===s?7*a*24*60*60*1e3:0;let o=new Date(e).getTime()+a;this.returnDate=new Date(o).toLocaleString()}catch(e){console.error("Error fetching data:",e)}},request(){try{let e=document.getElementById("timeperiod").value,t=document.getElementById("unitselection").value;console.log(e,t);let s={book_id:this.$route.params.id,period:e,unit:t};const a=localStorage.getItem("library_management_system_token");fetch(ke.H$+"/request_book",{method:"POST",headers:{"Content-Type":"application/json","x-access-token":a},body:JSON.stringify(s)}).then((e=>e.json())).then((e=>{"success"!==e.status?(alert(e.message),console.log("1"),console.log(e)):(alert(e.message),console.log("2"),console.log(e),window.location.reload())})).catch((e=>{console.error("Error fetching data:",e)}))}catch(e){console.error("Error fetching data:",e)}},cancel_request(){try{let e={book_id:this.$route.params.id};const t=localStorage.getItem("library_management_system_token");fetch(ke.H$+"/cancel_request",{method:"POST",headers:{"Content-Type":"application/json","x-access-token":t},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{"success"!==e.status?(alert(e.message),console.log("1"),console.log(e)):(alert(e.message),console.log("2"),console.log(e),window.location.reload())})).catch((e=>{console.error("Error fetching data:",e)}))}catch(e){console.error("Error fetching data:",e)}}},computed:{isDateValid(){let e=this.returnDate,t=parseInt(e);return!isNaN(t)}},mounted(){try{this.updateDate(),this.updatereturnDate(),setInterval(this.updateDate,1e3),this.refreshIntervalId=setInterval(this.updatereturnDate,1e3)}catch(e){console.error("Error fetching data:",e)}},beforeUnmount(){try{clearInterval(this.refreshIntervalId)}catch(e){console.error("Error fetching data:",e)}}},be=s(1241);const pe=(0,be.A)(ge,[["render",me]]);var ve=pe}}]);
//# sourceMappingURL=777.3ca17332.js.map