{"version":3,"file":"js/964.25476489.js","mappings":"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","sources":["webpack://app/./src/components/NavBar.vue","webpack://app/./src/components/NavBar.vue?01fd","webpack://app/./src/views/MyBooksView.vue","webpack://app/./src/views/MyBooksView.vue?e07f"],"sourcesContent":["<template>\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n    <div class=\"container-fluid\">\n      <a class=\"navbar-brand d-flex align-items-center\" href=\"/\">\n        <img\n          src=\"@/assets/img/logo.jpeg\"\n          alt=\"\"\n          width=\"35\"\n          height=\"35\"\n          class=\"d-inline-block align-text-top mx-4\"\n        />\n        Library Management System\n        <code\n          class=\"mx-2 ps-md-2 border-start border-md border-gray text-danger\"\n        >\n          {{ username }}'s {{ nav }}\n        </code>\n      </a>\n      <div class=\"d-flex\">\n        <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n          <ul class=\"navbar-nav me-auto px-8 mb-2 mb-lg-0\">\n            <li class=\"nav-item mx-2\">\n              <a class=\"nav-link active\" aria-current=\"page\" href=\"/\">Home</a>\n            </li>\n            <li\n              class=\"nav-item mx-2 ps-md-4 border-start border-md border-gray\"\n            >\n              <a class=\"nav-link\" href=\"/requested_books/Requested\"\n                >Requested Books</a\n              >\n            </li>\n            <li\n              class=\"nav-item mx-2 ps-md-4 border-start border-md border-gray\"\n            >\n              <a class=\"nav-link\" href=\"/requested_books/Issued\">My Books</a>\n            </li>\n            <li\n              class=\"nav-item mx-2 ps-md-4 border-start border-md border-gray\"\n            >\n              <a class=\"nav-link\" href=\"/history\">History</a>\n            </li>\n            <li\n              class=\"nav-item mx-2 ps-md-4 border-start border-md border-gray\"\n            >\n              <a class=\"nav-link\" href=\"/logout\">Logout</a>\n            </li>\n          </ul>\n          <!-- <button @click=\"click\">send data</button> -->\n        </div>\n      </div>\n    </div>\n  </nav>\n</template>\n<script>\nimport \"bootstrap\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"NavBar\",\n  data() {\n    return {\n      username: \"default\",\n      navid: \"1\",\n    };\n  },\n  methods: {\n    // click() {\n    //   console.log(this.userData);\n    // },\n  },\n  computed: {\n    ...mapState([\"userData\", \"navData\"]),\n  },\n  created() {\n    this.username = this.userData;\n    this.nav = this.navData;\n  },\n};\n</script>\n<style>\n@import \"~bootstrap/dist/css/bootstrap.min.css\";\n</style>\n","import { render } from \"./NavBar.vue?vue&type=template&id=7b96131a\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=7b96131a&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"book\">\n    <NavBar msg=\"Welcome to Your Vue.js App\" />\n    <!-- <h1>Book Dashboard</h1> -->\n  </div>\n  <div></div>\n  <div class=\"col-lg-10 offset-lg-1\">\n    <!-- Heading -->\n    <h3 class=\"mb-3 mt-4\">Issued Books</h3>\n    <!-- Divider -->\n    <hr class=\"my-7\" />\n\n    <!-- List group -->\n    <ul\n      class=\"list-group list-group-lg list-group-flush-y list-group-flush-x mb-7\"\n    >\n      <li\n        class=\"list-group-item my-2 rounded border\"\n        v-for=\"book in books.requested_books\"\n        v-bind:key=\"book[0].book_id\"\n      >\n        <div class=\"row align-items-center\">\n          <div class=\"col-4\">\n            <!-- Image -->\n            <a :href=\"book_path(book[0].book_id)\">\n              <img\n                :src=\"fetchbookimg(book[0].book_id)\"\n                alt=\"...\"\n                class=\"img-fluid\"\n                style=\"width: 110px; height: 140px; border-radius: 0.5rem\"\n              />\n            </a>\n          </div>\n          <div class=\"col\">\n            <!-- Title -->\n            <p class=\"mb-4 fs-sm fw-bold\">\n              <a class=\"text-body\" :href=\"book_path(book[0].book_id)\"\n                >{{ book[1].book_name }}: {{ book[1].title }}</a\n              >\n              <br />\n              <!-- <span class=\"text-muted\">$40.00</span> -->\n            </p>\n\n            <!-- Text -->\n            <div class=\"fs-sm text-muted\">\n              Author: {{ book[1].author }} <br />\n              Issue Date: {{ book[0].date_issue }} <br />\n              Return Date: {{ book[0].return_date }} <br />\n            </div>\n          </div>\n          <div class=\"col-4\">\n            <!-- Image -->\n            <button\n              class=\"btn btn-warning mb-1\"\n              style=\"max-width: 210px; min-width: 150px\"\n              v-on:click=\"return_book(book[0].book_id)\"\n            >\n              Return</button\n            ><br />\n            <button\n              class=\"btn btn-info mt-1\"\n              style=\"max-width: 210px; min-width: 150px\"\n              hidden\n            >\n              Edit Request\n            </button>\n          </div>\n        </div>\n      </li>\n    </ul>\n    <!-- Button -->\n    <button class=\"btn w-100 btn-dark\" v-on:click=\"return_all_books()\">\n      {{ button_message }}\n    </button>\n  </div>\n</template>\n<script>\nimport NavBar from \"@/components/NavBar.vue\";\nimport { API_URL } from \"../../constants\";\nexport default {\n  name: \"RequestedBooksView\",\n  components: {\n    NavBar,\n  },\n  data() {\n    return {\n      books: [],\n      currentDate: \"\",\n      returnDate: \"-----\",\n      refreshIntervalId: \"\",\n      status: \"Request for Book\",\n      button_message: \"Return All Books\",\n    };\n  },\n  beforeCreate() {\n    const token = localStorage.getItem(\"library_management_system_token\");\n    this.$store.commit(\"setNav\", \"My Books\");\n    fetch(API_URL + \"/requested_books/\" + \"Issued\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-access-token\": token,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n        if (data.requested_books.length === 0) {\n          this.button_message = \"No Books to Return\";\n        }\n        this.$store.commit(\"setUser\", data.current_user.username);\n        this.$store.commit(\"setNav\", \"My Books\");\n        this.books = data;\n        try {\n          this.book_id_selected = this.books.requested_books[0][0].book_id;\n        } catch (error) {\n          console.log();\n        }\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n        this.$router.push(\"/signin\");\n      });\n  },\n  methods: {\n    fetchbookimg(bookId) {\n      return API_URL + \"/fetchbookimg/\" + bookId;\n    },\n    book_path(bookId) {\n      return \"/book/\" + bookId;\n    },\n    return_book(id) {\n      try {\n        let data = {\n          book_id: id,\n        };\n        const token = localStorage.getItem(\"library_management_system_token\");\n        fetch(API_URL + \"/return_book\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"x-access-token\": token,\n          },\n          body: JSON.stringify(data),\n        })\n          .then((response) => response.json())\n          .then((data) => {\n            if (data.status !== \"success\") {\n              alert(data.message);\n            } else {\n              alert(data.message);\n              window.location.reload();\n            }\n          })\n          .catch((error) => {\n            console.error(\"Error fetching data4:\", error);\n          });\n      } catch (error) {\n        console.error(\"Error fetching data5:\", error);\n      }\n    },\n    return_all_books() {\n      try {\n        const token = localStorage.getItem(\"library_management_system_token\");\n        fetch(API_URL + \"/return_all_books\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"x-access-token\": token,\n          },\n        })\n          .then((response) => response.json())\n          .then((data) => {\n            if (data.status !== \"success\") {\n              alert(data.message);\n            } else {\n              alert(data.message);\n              window.location.reload();\n            }\n          })\n          .catch((error) => {\n            console.error(\"Error fetching data6:\", error);\n          });\n      } catch (error) {\n        console.error(\"Error fetching data7:\", error);\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./MyBooksView.vue?vue&type=template&id=5eab4152\"\nimport script from \"./MyBooksView.vue?vue&type=script&lang=js\"\nexport * from \"./MyBooksView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","href","_createElementVNode","src","_imports_0","alt","width","height","_createStaticVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createTextVNode","_hoisted_5","_toDisplayString","$data","username","_ctx","nav","_hoisted_6","name","data","navid","methods","computed","mapState","created","this","userData","navData","__exports__","render","style","hidden","_Fragment","_createVNode","_component_NavBar","msg","_renderList","books","requested_books","book","key","book_id","_hoisted_7","_hoisted_8","$options","book_path","fetchbookimg","_hoisted_10","_hoisted_9","_hoisted_11","_hoisted_12","book_name","title","_hoisted_13","_hoisted_14","_hoisted_15","author","_hoisted_16","date_issue","_hoisted_17","return_date","_hoisted_18","_hoisted_19","onClick","$event","return_book","_hoisted_20","_hoisted_21","_hoisted_22","_cache","return_all_books","button_message","components","NavBar","currentDate","returnDate","refreshIntervalId","status","beforeCreate","token","localStorage","getItem","$store","commit","fetch","API_URL","method","headers","then","response","json","console","log","length","current_user","book_id_selected","error","catch","$router","push","bookId","id","body","JSON","stringify","alert","message","window","location","reload"],"sourceRoot":""}